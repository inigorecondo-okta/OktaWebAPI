var tiModal=(function(){var b={backgroundColor:"rgba(0,0,0,0.5)",events:{},modal:false};var a={"click [data-modal-toggle=close]":function(i){this.close()}};var e=[];function h(i){[].slice.call(arguments,1).forEach(function(k){for(var j in k){i[j]=k[j]}});return i}var d=function(k,i){i=i||{};this.options=h({},b,i);function j(){var l=document.createElement("div");l.className="tioverlay";l.style.backgroundColor=""+this.options.backgroundColor;document.body.appendChild(l);this.overlay=l}j.call(this);if(this.overlay==null){throw ("Cannot initialize modal")}else{this.overlay.innerHTML=k}events=h({},a,i.events);this._bindEvents(events)};d.prototype._bindEvents=function(j){var i=this;Object.keys(j).map(function(o,n){var p=o.split(" ");var m=p[0];var k=p[1];var l=i.overlay.querySelectorAll(k);if(typeof j[o]==="function"){i._bindEvent(l,m,j[o].bind(i))}});if(this.options.modal==false){this.overlay.addEventListener("click",function(k){if(i.overlay==k.target){i.close()}})}};d.prototype._bindEvent=function(l,j,m){if(l.length==undefined){l.addEventListener(j,m)}else{for(var k=0;k<l.length;k++){this._bindEvent(l[k],j,m)}}};d.prototype.show=function(){this.overlay.style.display="block"};d.prototype.hide=function(){this.overlay.style.display="none"};d.prototype.dispose=function(){this.overlay.parentNode.removeChild(this.overlay)};d.prototype.close=function(){var i=e.indexOf(this);if(i>=0){e.splice(i,1)}this.dispose()};function c(j,i){var k=new d(j,i);e.push(k);return k}function g(){if(e.length>0){var i=e.length-1;e[i].dispose();e.splice(i,1)}}function f(){for(var j=e.length-1;j>=0;j--){e[j].dispose()}e=[]}return{create:c,close:g,closeAll:f}})();